<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Registro de Visitantes</title>
  <!-- Favicon -->
  <link rel="shortcut icon" href="assets/img/logo.png">
  <!-- Íconos -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
    crossorigin="anonymous">
  <!-- Tipografías -->
  <link href="https://fonts.googleapis.com/css?family=Lobster|Roboto" rel="stylesheet">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
    crossorigin="anonymous">
  <!-- Estilos -->
  <link rel="stylesheet" href="assets/css/style.css">
  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
</head>

<body>
  <!-- Sección de bienvenida -->
  <section id="welcome" class="container-fluid">
    <div class="init">
      <div class="logoBackground">
        <img src="assets/img/logo.png" alt="logo if">
        <button id="loginAdmin">
          <i class="fas fa-sign-in-alt"></i>
          ADMIN</button>
      </div>
      <div class="col align-self-center">
        <button id="toRegisterBtn" class="btn">Registrar entrada</button>
      </div>
    </div>
    <div class="container d-none" id="logSection">
      <i class="fas fa-times" id="closeLogin"></i>
      <h1 class="welcomeText">Bienvenido</h1>
      <form class="form">
        <input type="email" placeholder="Usuario" id="email">
        <input type="password" placeholder="Contraseña" id="password">
        <button type="button" id="loginBtn" onclick="login()">Entrar</button>
      </form>
    </div>
  </section>

  <!-- Sección de registro -->
  <section id="register" class="d-none">
    <div class="container-fluid formContainer">
      <i class="fas fa-times" id="closeRegister"></i>
      <div class="logoRegister">
        <img src="assets/img/logo.png" alt="logo if">
      </div>
      <form id="registerVisitor" class="registerForm">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="visitorName">Nombre</label>
            <input id="visitorName" type="text" name="user_name" class="form-control" placeholder="NOMBRE" required>
          </div>
          <div class="form-group col-md-6">
            <label for="visitorRut">RUT</label>
            <input type="text" id="visitorRut" class="form-control" placeholder="Ingrese RUT">
          </div>
        </div>
        <div class="form-group">
          <label for="visitorEmail">Correo</label>
          <input id="visitorEmail" type="email" name="user_email" class="form-control" placeholder="Ingrese correo" required>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="visitorCompany">Empresa</label>
            <input id="visitorCompany" type="text" name="user_company" class="form-control" placeholder="Ingrese empresa">
          </div>
          <div class="form-group col-md-6">
            <label for="visitorLicensePlate">Patente vehículo</label>
            <input id="visitorLicensePlate" type="text" class="form-control" placeholder="Ingrese patente">
          </div>
        </div>
        <div class="form-row">
          <div id="companyContainer" class="form-group col-md-6">
            <label for="inputCompany">Empresa a visitar</label>
            <select id="inputCompany" name="company" class="form-control" required>
              <option>Elestudio</option>
              <option>Robotics Lab</option>
              <option>Fábrica de Medios</option>
              <option>Café Altura</option>
              <option>Laboratoria</option>
              <option>Fundación Mustakis</option>
              <option>Destilería Húsares</option>
              <option>Aguas Lab</option>
              <option>Wild Project Chile</option>
              <option>Deseis</option>
              <option>cdi</option>
              <option>Tremenda</option>
              <option>Ilegal</option>
            </select>
          </div>
          <div class="form-group col-md-6">
            <label for="inputReason">Motivo de la visita</label>
            <select id="inputReason" name="reason" class="form-control" required>
              <option>Entrevista</option>
              <option>Reunión</option>
              <option>Social</option>
              <option>Proveedor</option>
              <option>Otro</option>
            </select>
          </div>
        </div>
        <div class="form-group col-md-6 offset-3">
          <label for="companyMail">Correo receptor</label>
          <select id="companyMail" name="company_email" class="form-control" required>
            <option>eb.vega.m@gmail.com</option>
            <option>cindy.lopezoportus@gmail.com</option>
            <option>carolinadelgadob@gmail.com</option>
          </select>
        </div>
        <div id="cameraIcon" class="form-group">
          <label for="photo" class="cameraButton">
            <i class="fas fa-camera"></i>
            <input id="photo" name="photo" accept="image/*" type="file" capture="camera">
            <p id="photoMessage"></p>
          </label>
        </div>
        <button type="submit" class="btn">ENVIAR</button>
      </form>
      <section id="success" class="d-none">
        <div class="container">
          <h1>Bienvenido a IF Blanco</h1>
          <h2> Tu visita a sido registrada con éxito</h2>
        </div>
      </section>
    </div>
  </section>

  <!-- Dashboard  -->
  <section class="d-none container-fluid" id="dashboard">
    <header class="dashHeader">
      <img src="assets/img/logo.png" alt="logoIf">
    </header>
    <aside id="sidebar">
      <ul class="nav nav-tabs flex-column" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Registro de Visitantes</a>
        </li>
        <hr>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Analitycs</a>
        </li>
        <hr>
        <li class="nav-item">
          <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Administrar Residentes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="close-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="close" aria-selected="false"
            onclick="logout()">
            <i class="fas fa-sign-out-alt"> </i>Cerrar Sesión</a>
        </li>
      </ul>
    </aside>

    <div class="tab-content" id="myTabContent">

      <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
        <div id="dashboardList">
          <div class="contentBody">
            <table class="table table-bordered table-responsive-sm">
              <thead>
                <tr>
                  <th scope="col" id="visit">Visitante</th>
                  <th scope="col">Ingreso</th>
                  <th scope="col">Anfitrión</th>
                  <th scope="col">Motivo</th>
                </tr>
              </thead>
              <tbody id="bodyDashboard"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <div id="calendar_basic"></div>
      </div>

      <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
        <div class="adminUsers">
          <div class="residentes">
            <h5>Agrega nuevos residentes al espacio IF</h5>
          </div>
          <input type="text" class="form-control" placeholder="Empresa" id="newComapny">
          <input type="email" class="form-control" placeholder="Correo Corporativo" id="newEmail">
          <button id="addResident">Agregar</button>
        </div>
        <div>
          <h5>Listado de Residentes IF Blanco</h5>
          <hr>
        </div>
        <div id="residentSuccess"></div>
      </div>
    </div>
  </section>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyB7HPBkWvYlZpRizNk6O06G1xu6qcmC-iI",
      authDomain: "registro-visitantes.firebaseapp.com",
      databaseURL: "https://registro-visitantes.firebaseio.com",
      projectId: "registro-visitantes",
      storageBucket: "registro-visitantes.appspot.com",
      messagingSenderId: "280699437997"
    };
    firebase.initializeApp(config);
  </script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>

  <script src="assets/js/events.js"></script>
  <script src="assets/js/auth.js"></script>
  <script src="assets/js/register.js"></script>
  <script src="assets/js/dashboard.js"></script>
  <script src="assets/js/mail.js"></script>
  <script src="assets/js/jquery.rut.chileno.min.js"></script>
</body>

</html>